<!doctype html>
<html>
<head>
	<title>Budget Calculator</title>
	<!-- <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" /> -->
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" type="text/css" href="includes/css/normalize.css">
	<link href="https://fonts.googleapis.com/css?family=Open+Sans:400,300,600,700" rel="stylesheet" type="text/css">
	<link href="includes/css/c3.css" rel="stylesheet" type="text/css">
	<link href="includes/css/styles.css" rel="stylesheet" type="text/css">
</head>

<body>
	<div class="qbcalc clearfix">
		<h1>Try our FREE expense calculator</h1>

		<div class="progress">

			<!-- Alex progress steps bar -->
			<div class="prog">
			  <ul>
			    <li class="active"><a href="#step1">1</a>
			      <div></div>
			    </li>
			    <li><a href="#step2">2</a>
			      <div></div>
			    </li>
			    <li><a href="#step3">3</a>
			      <div></div>
			    </li>
			    <li><a href="#step4">4</a>
			      <div></div>
			    </li>
			    <li><a href="#step5">5</a>
			      <div></div>
			    </li>
			    <li class="last"><a href="#step6">6</a></li>
			  </ul>
			</div>
		</div>


		<!-- column2 -->
		<div class="column2 clearfix">

						<!-- Alex panels -->
			<div class="panel active" id="step1">
			  <!-- <h2>step 1</h2>
			  <a href="#step2" class="next">NEXT</a> -->
				<h2>Monthly Income</h2>
				<div class="form-wrap">
					<p class="salary hide">Salary/Wages</p>
					<p class="other hide">Other Income</p>
					<form>
				<!-- these two exclude classes are not figured into the "expenses" -->
						<p class="mobile-label">Salary/Wages:</p>
						<input class="left-input exclude" type="text" name="sum" />
						<p class="mobile-label">Other Income:</p>
						<input class="exclude" type="text" name="sum" />
					</form>
				</div>
				<a href="#step2" class="next first-button">NEXT</a>
			</div>

			<div class="panel" id="step2">
				<h2>Housing Expenses</h2>
				<div class="form-wrap">
					<p class="mort hide">Mortgage</p>
					<p class="HOA hide">HOA Fees</p>
					<p class="rent hide">Rent</p>
					<p class="ins hide">Home Insurance</p>
					<p class="repairs hide">Repairs/Maintenance</p>
					<p class="utilities hide">Water/Gas/Electricity</p>
					<p class="TV hide">Cable/TV/Internet</p>
					<p class="phone hide">Phone &amp; Cell</p>
					<form>
						<p class="mobile-label">Mortgage:</p>
						<input class="left-input" type="text" name="sum2" />
						<p class="mobile-label">HOA Fees:</p>
						<input type="text" name="sum2" />
						<br />
						<p class="mobile-label">Rent:</p>
						<input class="left-input" type="text" name="sum2" />
						<p class="mobile-label">Home Insurance:</p>
						<input type="text" name="sum2" />
						<br />
						<p class="mobile-label">Repairs/Maintenance:</p>
						<input class="left-input" type="text" name="sum2" />
						<p class="mobile-label">Water/Gas/Electricity:</p>
						<input type="text" name="sum2" />
						<br />
						<p class="mobile-label">Cable/TV/Internet:</p>
						<input class="left-input" type="text" name="sum2" />
						<p class="mobile-label">Phone &amp; Cell:</p>
						<input type="text" name="sum2" />
					</form>
				</div>
				<a href="#step3" class="next">NEXT</a>
			  <a href="#step1" class="back">BACK</a>
			</div>

			<div class="panel" id="step3">
				<h2>Transportation Expenses</h2>
				<div class="form-wrap">
					<p class="car hide">Car Payment</p>
					<p class="car-ins hide">Car Insurance</p>
					<p class="gas hide">Gas/Fuel</p>
					<p class="car-repair hide">Car Repairs</p>
					<form>
						<p class="mobile-label">Car Payment:</p>
						<input class="left-input" type="text" name="sum3" />
						<p class="mobile-label">Car Insurance:</p>
						<input type="text" name="sum3" />
						<br />
						<p class="mobile-label">Gas/Fuel:</p>
						<input class="left-input" type="text" name="sum3" />
						<p class="mobile-label">Car Repairs:</p>
						<input type="text" name="sum3" />
					</form>
				</div>
				<a href="#step4" class="next">NEXT</a>
			  <a href="#step2" class="back">BACK</a>
			</div>

			<div class="panel" id="step4">
				<h2>Educational Expenses</h2>
				<div class="form-wrap">
					<p class="school hide">School Supplies</p>
					<p class="loans hide">Student Loans</p>
					<p class="tuition hide">College Tuition</p>
					<form>
						<p class="mobile-label">School Supplies:</p>
						<input class="left-input" type="text" name="sum4" />
						<p class="mobile-label">Student Loans:</p>
						<input type="text" name="sum4" />
						<br />
						<p class="mobile-label">College Tuition:</p>
						<input class="left-input" type="text" name="sum4" />
					</form>
				</div>
			  <a href="#step5" class="next">NEXT</a>
				<a href="#step3" class="back">BACK</a>
			</div>

			<div class="panel" id="step5">
				<h2>Food and Personal</h2>
				<div class="form-wrap">
					<p class="groc hide">Groceries/Household</p>
					<p class="cloth hide">Clothing</p>
					<!-- <p class="laundry hide">Laundry</p> -->
					<p class="ent hide">Entertainment</p>
					<p class="med hide">Medical</p>
					<p class="pet hide">Pet Supplies</p>
					<p class="other-exp hide">Other Expenses</p>
					<form>
						<p class="mobile-label">Groceries/Household:</p>
						<input class="left-input" type="text" name="sum5" />
						<p class="mobile-label">Clothing:</p>
						<input type="text" name="sum5" />
						<br />
						<!-- <p class="mobile-label">Laundry:</p>
						<input class="left-input" type="text" name="sum5" /> -->
						<p class="mobile-label">Entertainment:</p>
						<input class="left-input" type="text" name="sum5" />
						<p class="mobile-label">Medical:</p>
						<input type="text" name="sum5" />
						<br />
						<p class="mobile-label">Pet Supplies:</p>
						<input class="left-input" type="text" name="sum5" />
						<p class="mobile-label">Other Expenses:</p>
						<input type="text" name="sum5" />
					</form>
				</div>
			  <a href="#step6" class="next">NEXT</a>
				<a href="#step4" class="back">BACK</a>
			</div>

			<div class="panel" id="step6">
				<h2>Monthly Savings</h2>
				<div class="form-wrap">
					<p class="emergency hide">Emergency Fund</p>
					<p class="invest hide">Investments</p>
					<p class="retire hide">Retirement</p>
					<form>
						<p class="mobile-label">Emergency Fund:</p>
						<input class="left-input" type="text" name="sum6" />
						<p class="mobile-label">Investments:</p>
						<input type="text" name="sum6" />
						<br />
						<p class="mobile-label">Retirement:</p>
						<input class="left-input" type="text" name="sum6" />
					</form>
				</div>
			  <a href="#step7" class="next">NEXT</a>
				<a href="#step5" class="back">BACK</a>
			</div>

			<div class="panel" id="step7">
				<div class="form-wrap fix">
					<div class="last-panel-left">

						<h1>Choose the right <br>Quicken for you.</h1>
						<h3><span class="reddish">Quicken 2016 is here!</span><br />
							Count on us to help you manage your money. See everything in one place with Quicken.
						</h3>
					</div>

					<!-- <div class="last-panel-right"></div> -->
					<img class="whats-new-hero" src="includes/img/whats-new-hero-crop.png" alt="software" />
					<img class="whats-new-hero-2" src="includes/img/whats-new-hero-crop-2.png" alt="software" />
				</div>
				<a href="#" class="compare">COMPARE QUICKEN SOFTWARE</a>
				<a href="#step6" class="back">BACK</a>
			</div>
			<!-- /panels -->

		</div><!--  closing tag for column2 di -->


		<div class="column1 clearfix">
			<table>
			  <tr class="underline">
			    <th><strong>Monthly Income</strong></th>
			    <th class="total" value="" style="padding:0;">$<span id="totalSum">0</span></th>
			  </tr>
			  <tr>
			    <td><div class="square housing"></div>Housing</td>
			    <td class="total" value="" style="padding:0;">$<span id="totalSum2">0</span></td>
			  </tr>
			  <tr>
			    <td><div class="square transportation"></div>Transportation</td>
			    <td class="total" value="" style="padding:0;">$<span id="totalSum3">0</span></td>
			  </tr>
			  <tr>
			    <td><div class="square educational"></div>Educational</td>
			    <td class="total" value="" style="padding:0;">$<span id="totalSum4">0</span></td>
			  </tr>
			  <tr>
			    <td><div class="square personal"></div>Personal</td>
			    <td class="total" value="" style="padding:0;">$<span id="totalSum5">0</span></td>
			  </tr>
			  <tr class="underline">
			    <td><div class="square savings"></div>Savings</td>
			    <td class="total" value="" style="padding:0;">$<span id="totalSum6">0</span></td>
			  </tr>
			  <tr>
			    <th><strong>Monthly Expenses</strong></th>
			    <th class="total" value="" style="padding:0;">$<span id="expenses">0</span></th>
			  </tr>
			</table>

					<!-- chart image -->
					<div class="image-container clearfix">
						<div class="C3-wrapper clearfix">
							<div id="chart"></div>
						</div>
					</div>

					<div class="positive-income">
						<p>INCOME</p>
						<p class="value" value="">$<span id="subtract">0</span></p>
					</div>

		</div> <!-- closing column1 div -->
	</div> <!-- closing tag for qbcalc div -->


		<script type="text/javascript" src="includes/js/jquery-1.7.2.min.js"></script>
		<script type="text/javascript" src="includes/js/jquery.field.min.js"></script>
		<script type="text/javascript" src="includes/js/autoNumeric.min.js" ></script>
		<script type="text/javascript" src="includes/js/jquery.james.calculation.js"></script>
		<script src="includes/js/d3.min.js" charset="utf-8"></script>
		<script src="includes/js/c3.js"></script>

		<!-- calculation JS -->
		<script type="text/javascript">
			$( document ).ready(function() {

				//sum inputs and display resulting value in table with appropriate ID
				$("input[name='sum']").sum("keyup", "#totalSum");
				$("input[name='sum2']").sum("keyup", "#totalSum2");
				$("input[name='sum3']").sum("keyup", "#totalSum3");
				$("input[name='sum4']").sum("keyup", "#totalSum4");
				$("input[name='sum5']").sum("keyup", "#totalSum5");
				$("input[name='sum6']").sum("keyup", "#totalSum6");

				//display the sum of all input fields except monthly income fields
				//the "exclude" class serves to exclude these fields.
				$("input").not(".exclude").sum("keyup", "#expenses");

				//display result of income minus expenses
				$("input").subtract({
					'bind':"keyup",
					'selector':"#subtract",
					'oncalc': function () {
						// console.log('oncalc');
						chart.unload({
							ids: [ 'housing', 'transportation', 'educational', 'personal', 'savings' ]
						});
						chart.load({
							columns: [
									['housing', document.getElementById('totalSum2').innerHTML],
									['transportation', document.getElementById('totalSum3').innerHTML],
									['educational', document.getElementById('totalSum4').innerHTML],
									['personal', document.getElementById('totalSum5').innerHTML],
									['savings', document.getElementById('totalSum6').innerHTML]
							]
						});
					}
				});
        // autoNumeric
					//salary inputs will have $99,999 max (keep in mind this is MONTHLY salary)
					//all other inputs will have $9,999 max (keep in mind this is MONTHLY expenses)
        $('input').not('.exclude').autoNumeric('init', {
          mDec: 0,
          aSign: '$',
					vMin: "-9999",
					vMax: "9999"
        });

				$('.exclude').autoNumeric('init', {
					mDec: 0,
          aSign: '$',
					vMin: "-99999",
					vMax: "99999"
				});


        //progress JS by Alex, modifications by James---------------------------------->
        $('.prog a').click(function() {
          if ( !$(this).parent().hasClass('active')) {
            $(this).parent().addClass('active')
            .siblings('.active')
            .removeClass('active')
            .addClass('completed');

            // also switch panels
            var tar = $(this).attr('href');
            $(tar).addClass('active')
              .siblings('.active')
              .removeClass('active')
          }
          return false;
      });
      // in-panel "next" links
      $('.panel a.next').click(function() {
        var actv = $('.prog .active');
        var nex = actv.next();

        if (nex.size() > 0) {
          // click handles changing .active
          nex.children('a').click();
        } else {
          // on the last?
          actv.removeClass('active')
            .addClass('completed');

          $('#step7').addClass('active')
            .siblings('.active')
            .removeClass('active');
        }
        return false;
      });
      // in-panel back links
      $('.panel a.back').click(function() {
        var actv = $('.prog .active');
        var preev = actv.prev();

        if (actv.size() > 0) {
          // click handles changing .active
          preev.children('a').click();
        } else {
          // on the step 7 : so go back to 6
          $('.prog li:last a').click();
        }
        return false;
      });
		});
		</script>



		<!-- C3 CHART-->
		<script type="text/javascript">
			var chart = c3.generate({
				bindto: '#chart',
				data: {
						columns: [
								['housing', 0],
								['transportation', 0],
								['educational', 0],
								['personal', 0],
								['savings', 0]
						],
						empty: {
					    label: {
					      text: "No Data"
					    }
					  },
						labels: true,
						type : 'donut'
				},
				padding: {
				  top: 0,
					bottom: 0,
					right: 0,
					left: 0
				},
				// size: {
				//   height: 200,
				// 	width: 221
				// },
				color: {
				  pattern: ['#f9c500', '#00a8bc', '#9de031', '#ff00b9', '#ea8800']
				},
				interaction: {
				  enabled: false
				},
				donut: {
					width: 53
				}
			});

		</script>

		<!-- this allows the user to advance by simply hitting the ENTER key -->
		<script type="text/javascript">
			$(document).keyup(function(e) {
				if(e.keyCode == 13) {
						var actv = $('.prog .active');
						var nex = actv.next();

						if (nex.size() > 0) {
							// click handles changing .active
							nex.children('a').click();
						} else {
							// on the last?
							actv.removeClass('active')
								.addClass('completed');

							$('#step7').addClass('active')
								.siblings('.active')
								.removeClass('active');
						}
						return false;
				}
			});
		</script>

		<!-- change background color of INCOME box when user has negative income -->
		<script type="text/javascript">

				var n;

				$( "#subtract" ).bind("DOMSubtreeModified", function() {

					n = $('#subtract').text();

					if (n < 0) {
						$('.positive-income').css({
							"background-color": "red",
							"background": "red"
						});
					} else {
						$('.positive-income').css({
							"background-color": "green",
							"background": "green"
						});
					}

				});


				// var n = $('#subtract').text();
				//
				// if (n < 0) {
				// 	$('.positive-income').css({
				// 		"background-color": "red",
				// 		"background": "red"
				// 	});
				// } else {
				// 	$('.positive-income').css({
				// 		"background-color": "green",
				// 		"background": "green"
				// 	});
				// }




				// $("span#subtract:contains('-')").css({
				// 	"background-color": "red",
				// 	"background": "red"
				// });




				// var value1 = parseInt($('#totalSum').html());
				// var value2 = parseInt($('#expenses').html());
				//
				// if (value1 < value2) {
				// 		$('.positive-income').css({
				// 			"background-color": "red",
				// 			"background": "red"
				// 		});
				// }





				// var value1 = $("input[name='sum']").sum();
				// var value2 = $("input").not(".exclude").sum();
				//
				// if (value1 < value2) {
				// 		$('.positive-income').css({
				// 			"background-color": "red",
				// 			"background": "red"
				// 		});
				// }

		</script>

	</body>
</html>
